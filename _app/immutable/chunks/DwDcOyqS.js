import"./CWj6FrbW.js";import{p as q,N as I,S as G,x as o,d as _,u as a,o as V,h as D,v as u,E as M,m as y,V as H,w as d,t as R,y as z,Y as T,J as K,Z as C,$ as Z,b as L,j as N,n as Q,q as O,k as W,r as X}from"./DWr9eOP8.js";const $="zx-tiles-cache",m="images",e0=1,t0=30*24*60*60*1e3;let F=null;function P(){return F||(F=new Promise((p,e)=>{const t=indexedDB.open($,e0);t.onerror=()=>e(t.error),t.onsuccess=()=>p(t.result),t.onupgradeneeded=s=>{const b=s.target.result;b.objectStoreNames.contains(m)||b.createObjectStore(m,{keyPath:"url"})}}),F)}async function p0(p){try{const s=(await P()).transaction(m,"readonly").objectStore(m);return new Promise((b,w)=>{const n=s.get(p);n.onsuccess=()=>{const i=n.result;if(!i){b(null);return}if(Date.now()-i.timestamp>t0){b0(p),b(null);return}const r=URL.createObjectURL(i.blob);b(r)},n.onerror=()=>w(n.error)})}catch(e){return console.error("Error getting cached image:",e),null}}async function s0(p,e){try{const b=(await P()).transaction(m,"readwrite").objectStore(m),w={url:p,blob:e,timestamp:Date.now()};await new Promise((n,i)=>{const c=b.put(w);c.onsuccess=()=>n(),c.onerror=()=>i(c.error)})}catch(t){console.error("Error caching image:",t)}}async function b0(p){try{const s=(await P()).transaction(m,"readwrite").objectStore(m);await new Promise((b,w)=>{const n=s.delete(p);n.onsuccess=()=>b(),n.onerror=()=>w(n.error)})}catch(e){console.error("Error deleting cached image:",e)}}async function w0(p){const e=await p0(p);if(e)return e;try{const t=await fetch(p);if(!t.ok)throw new Error("Failed to fetch image");const s=await t.blob();return s0(p,s).catch(()=>{}),URL.createObjectURL(s)}catch{return p}}var n0=D('<div class="absolute inset-0 bg-gradient-to-r from-gray-200 via-gray-100 to-gray-200 animate-shimmer"></div>'),x0=D('<img alt="" aria-hidden="true"/>'),r0=D('<div class="absolute inset-0 flex items-center justify-center bg-gray-200 text-gray-400 text-xs">加载失败</div>'),i0=D('<div><!> <!> <img decoding="async"/> <!></div>');function c0(p,e){q(e,!0);let t=I(e,"loading",3,"lazy"),s=I(e,"class",3,""),b=I(e,"objectFit",3,"cover"),w=_(!1),n=_(!1),i=_(null),c,r=_(!0),g=_("");const j=K(()=>o(i)??e.src);G(()=>{e.src!==o(g)&&(a(g,e.src,!0),a(w,!1),a(n,!1),a(i,null),a(r,!1),h())}),V(()=>{if(t()==="lazy"&&"IntersectionObserver"in window){const x=new IntersectionObserver(async l=>{l[0].isIntersecting&&(x.disconnect(),a(r,!1),await h())},{rootMargin:"100px"});return c&&x.observe(c),()=>x.disconnect()}else a(r,!1),h()});async function h(){try{const x=await w0(e.src);a(i,x,!0)}catch{}}function B(){o(r)||a(n,!0)}var v=i0(),Y=u(v);{var A=x=>{var l=n0();L(x,l)};M(Y,x=>{!o(w)&&!o(n)&&x(A)})}var E=y(Y,2);{var U=x=>{var l=x0();R(()=>{T(l,"src",o(j)),z(l,1,`absolute inset-0 w-full h-full object-cover scale-125 blur-2xl opacity-50 transition-opacity duration-500 ${o(w)?"opacity-50":"opacity-0"}`)}),L(x,l)};M(E,x=>{b()==="contain"&&x(U)})}var f=y(E,2);H(f,x=>c=x,()=>c);var k=y(f,2);{var J=x=>{var l=r0();L(x,l)};M(k,x=>{o(n)&&x(J)})}d(v),R(()=>{z(v,1,`relative overflow-hidden bg-gradient-to-br from-gray-100 to-gray-200 ${s()??""}`),T(f,"src",o(j)),T(f,"alt",e.alt),z(f,1,`relative w-full h-full ${b()==="contain"?"object-contain":"object-cover"} transition-all duration-500 ease-out ${o(w)?"opacity-100 scale-100":"opacity-0 scale-[1.02]"}`)}),C("load",f,()=>a(w,!0)),C("error",f,B),Z(f),L(p,v),N()}var o0=D('<a class="block group"><div class="bg-white rounded-lg overflow-hidden shadow-sm hover:shadow-lg transition-all duration-300 hover:-translate-y-1"><div class="aspect-square overflow-hidden bg-white flex items-center justify-center"><!></div> <div class="p-2.5"><h3 class="font-medium text-gray-900 group-hover:text-primary transition-colors duration-300 text-sm truncate"> </h3> <div class="mt-1.5 flex flex-wrap gap-1"><span class="px-1.5 py-0.5 bg-gray-100 rounded text-[10px] text-gray-600"> </span> <span class="px-1.5 py-0.5 bg-primary/10 text-primary rounded text-[10px]"> </span></div></div></div></a>');function y0(p,e){q(e,!0);const t=()=>Q(X,"$t",s),[s,b]=W();var w=o0(),n=u(w),i=u(n),c=u(i);c0(c,{get src(){return e.product.thumbnail},get alt(){return e.product.name},objectFit:"contain",class:"w-full h-full transition-transform duration-500 group-hover:scale-105"}),d(i);var r=y(i,2),g=u(r),j=u(g,!0);d(g);var h=y(g,2),B=u(h),v=u(B,!0);d(B);var Y=y(B,2),A=u(Y,!0);d(Y),d(h),d(r),d(n),d(w),R(E=>{T(w,"href",`/products/${e.product.id??""}`),O(j,e.product.name),O(v,e.product.size),O(A,E)},[()=>t()(`style.${e.product.style}`)]),L(p,w),N(),b()}function a0(p){const t=p.replace(".webp","").split("-"),s=t[0]||"",b=t[1]||"",w=t.slice(2).filter(Boolean);return{size:s,code:b,features:w}}function l0(p){const e=p.join("-");return e.includes("仿古")?"rustic":e.includes("天鹅绒")?"velvet":e.includes("水磨石")||e.includes("哑光水磨石")?"terrazzo":e.includes("微水泥")?"microcement":e.includes("亮光")?"polished":e.includes("柔光")?"soft":e.includes("哑光")?"matte":e.includes("模具")?"textured":e.includes("幻彩")?"iridescent":"classic"}function u0(p){const e=p.join("-");return e.includes("无限连纹")?"continuous":e.includes("自由连纹")?"freeflow":e.includes("一石多面")?"multiface":e.includes("凹凸")?"embossed":e.includes("平面")?"flat":e.includes("网红艺术花砖")?"artistic":e.includes("地毯砖")?"carpet":e.includes("三片混搭")?"mixed":"standard"}const d0={finish:["柔光","亮光","哑光"],surface:["平面","模具","凹凸"],style:["仿古","天鹅绒","水磨石","微水泥","幻彩"],special:["网红艺术花砖","地毯砖","法式田园","莱姆石","线条"],color:["白色系","灰色系","绿色系","蓝色系","红色系","黄色系","暖色系"]};function f0(p){const e=[];return p.forEach(t=>{t.includes("柔光")&&e.push("柔光"),t.includes("亮光")&&e.push("亮光"),t.includes("哑光")&&e.push("哑光"),t.includes("平面")&&e.push("平面"),t.includes("模具")&&e.push("模具"),t.includes("凹凸")&&e.push("凹凸"),t.includes("仿古")&&e.push("仿古"),t.includes("天鹅绒")&&e.push("天鹅绒"),t.includes("水磨石")&&e.push("水磨石"),t.includes("微水泥")&&e.push("微水泥"),t.includes("幻彩")&&e.push("幻彩"),t.includes("网红艺术花砖")&&e.push("网红艺术花砖"),t.includes("地毯砖")&&e.push("地毯砖"),t.includes("法式田园系列")&&e.push("法式田园"),t.includes("莱姆石系列")&&e.push("莱姆石"),(t.includes("2厘线")||t.includes("细线")||t.includes("粗线"))&&e.push("线条"),(t.includes("白")||t.includes("米白")||t.includes("纯白"))&&e.push("白色系"),(t.includes("黑")||t.includes("深灰")||t.includes("浅灰")||t.includes("灰"))&&e.push("灰色系"),(t.includes("绿")||t.includes("橄榄绿")||t.includes("墨绿")||t.includes("牛油果")||t.includes("抹茶"))&&e.push("绿色系"),(t.includes("蓝")||t.includes("深蓝")||t.includes("灰蓝"))&&e.push("蓝色系"),(t.includes("红")||t.includes("橘红")||t.includes("酒红")||t.includes("焦糖"))&&e.push("红色系"),(t.includes("黄")||t.includes("奶黄"))&&e.push("黄色系"),(t.includes("粉")||t.includes("橘色"))&&e.push("暖色系")}),[...new Set(e)]}const m0=["600x300-6316-柔光-牛油果.webp","600x300-6317-柔光-橄榄绿.webp","600x300-6328-平面-亮光.webp","600x300-6601-模具-亮光.webp","600x300-6602-模具-亮光.webp","600x300-6603-模具-亮光.webp","600x300-6605-平面-亮光.webp","600x300-6607-模具-亮光.webp","600x300-6608-模具-亮光.webp","600x300-6609-平面-亮光.webp","600x300-6611-模具-亮光.webp","600x300-6612-模具-亮光.webp","600x300-6613-模具-亮光.webp","600x300-6615-平面-亮光-2厘线.webp","600x300-6616-平面-亮光-2厘线.webp","600x300-6617-平面-亮光-2厘线.webp","600x300-6618-模具-亮光.webp","600x300-6619-模具-亮光.webp","600x300-662012-柔光-墨绿.webp","600x300-662061-柔光-绿.webp","600x300-662063-柔光-深蓝.webp","600x300-662064-柔光-橘色.webp","600x300-662065-柔光-粉.webp","600x300-662066-柔光-浅灰.webp","600x300-662068-柔光-灰蓝.webp","600x300-662069-柔光-深灰.webp","600x300-662070-柔光-纯黑.webp","600x300-662071-柔光-奶黄.webp","600x300-662072-柔光-米白.webp","600x300-6620抹茶绿-平面-柔光.webp","600x300-6620橘红-柔光.webp","600x300-6620焦糖色-平面-柔光.webp","600x300-6620酒红-平面-柔光.webp","600x300-6621-模具-亮光.webp","600x300-6623-平面-亮光-2厘线.webp","600x300-6625-亮光-凹凸.webp","600x300-6653-模具-亮光.webp","600x300-6655-亮光-凹凸.webp","600x300-6656-亮光-凹凸.webp","600x300-6657-亮光-凹凸.webp","600x300-6673-模具-亮光.webp","600x300-6921-模具-亮光.webp","600x300-6922-模具-亮光.webp","600x300-6923-模具-亮光.webp","600x300-6924-模具-亮光.webp","600x300-6925-模具-亮光.webp","600x300-6926-模具-亮光.webp","600x300-6928-模具-亮光.webp","600x300-6929-模具-亮光.webp","600x300-6930-模具-亮光.webp","600x300-6931-模具-亮光.webp","600x300-6932-模具-亮光.webp","600x300-6934-模具-亮光.webp","600x300-6935-模具-亮光.webp","600x300-6936-亮光-凹凸.webp","600x300-6937-模具-亮光.webp","600x300-6940-模具-亮光.webp","600x300-6941-模具-亮光.webp","600x300-6942-模具-亮光.webp","600x300-6943-模具-亮光.webp","600x300-6944-模具-亮光.webp","600x300-6945-模具-亮光.webp","600x300-6946-模具-亮光.webp","600x300-6948-模具-亮光.webp","600x300-6949-模具-亮光.webp","600x300-6950-模具-亮光.webp","600x300-6951-模具-亮光.webp","600x300-6952-模具-亮光.webp","600x300-6953-模具-亮光.webp","600x300-6965-模具-亮光.webp","600x300-6982-亮光-凹凸.webp","600x300-6L329-模具-亮光.webp","600x300-8M007-模具-亮光.webp","600x300-8M009-模具-亮光.webp","600x300-8M010-模具-亮光-2厘线.webp","600x300-8M010-模具-亮光.webp","600x300-8M017-平面-亮光-细线.webp","600x300-8M4707-平面-亮光-粗线.webp","600x300-8M4709-平面-亮光.webp","600x300-8M6616-平面-细线.webp","600x300-9700-纯白-直边-亮光.webp","600x300-9905-柔光-模具-白色.webp","600x300-9906-柔光-模具-奶黄.webp","600x300-9907-柔光-模具-牛油果绿.webp","600x300-9908-柔光-模具-白色.webp","600x300-9908-模具-亮光.webp","600x300-9909-柔光-模具-奶黄.webp","600x300-9910-柔光-模具-牛油果绿.webp","600x300-9911-幻彩-亮光-凹凸.webp","600x300-9912-幻彩-亮光-凹凸.webp","600x300-9913-幻彩-亮光-凹凸.webp","600x300-9915-幻彩-亮光-凹凸.webp","600x300-9916-幻彩-亮光-凹凸.webp","600x300-9917-亮光-凹凸.webp","600x300-MKL150白-模具-柔光.webp","600x300-Y6801-模具-哑光.webp","600x300-Y6802-模具-哑光.webp","600x300-Y6803-模具-哑光.webp","600x300-Y6805-平面-哑光-2厘线.webp","600x300-Y6806-平面-哑光-2厘线.webp","600x300-Y6808-模具-哑光.webp","600x300-Y6809-平面-哑光.webp","600x300-Y6827-模具-哑光.webp","600x300-Y6836-平面-哑光-2厘线.webp","600x300-Y6839-平面-哑光-2厘线.webp","600x300-Y6843-平面-哑光-2厘线.webp","600x300-Y6845-平面-哑光-2厘线.webp","600x300-Y6846-模具-哑光.webp","600x300-Y6847-模具-哑光.webp","600x300-Y6849-模具-哑光.webp","600x300-Y6850-模具-哑光.webp","600x300-Y6851-模具-哑光.webp","600x300-Y6852-模具-哑光.webp","600x300-Y6853-平面-哑光-2厘线.webp","600x300-Y6854-平面-哑光-2厘线.webp","600x300-Y6857-模具-哑光.webp","600x300-Y6858-模具-哑光.webp","600x300-Y6859-哑光-凹凸.webp","600x300-Y6860-模具-哑光.webp","600x300-Y6861-模具-哑光.webp","600x300-Y6862-哑光-凹凸.webp","600x300-Y6863-模具-哑光.webp","600x300-Y6865-模具-哑光.webp","600x300-Y6866-模具-哑光.webp","600x300-Y6867-哑光-凹凸.webp","600x300-Y6868-哑光-凹凸.webp","600x300-Y6868-平面-哑光-2厘线.webp","600x300-Y6871-哑光-凹凸.webp","600x300-Y6873-哑光-凹凸.webp","600x300-Y6875-哑光-凹凸.webp","600x300-Y6876-哑光-凹凸.webp","600x300-Y6877-哑光-凹凸.webp","600x300-Y6878-哑光-凹凸.webp","600x300-Y6880-哑光-凹凸.webp","600x300-Y6881-哑光-凹凸.webp","600x300-Y6884-哑光-凹凸.webp","600x300-Y6885-平面-哑光.webp","600x300-Y6886-哑光-凹凸.webp","600x300-Y6887-哑光-凹凸.webp","600x600-60D30-三片混搭.webp","600x600-60D32-三片混搭.webp","600x600-60D33-三片混搭.webp","600x600-60D35.webp","600x600-60D38.webp","600x600-60D42.webp","600x600-60D43.webp","600x600-60D44.webp","600x600-60D46.webp","600x600-60D47.webp","600x600-60D48.webp","600x600-60D49.webp","600x600-60D50.webp","600x600-60D52.webp","600x600-60D53.webp","600x600-60D55.webp","600x600-60D57.webp","600x600-60D60.webp","600x600-60D61.webp","600x600-60D62.webp","600x600-62001-法式田园系列.webp","600x600-62008-法式田园系列.webp","600x600-62009-法式田园系列.webp","600x600-63001-莱姆石系列.webp","600x600-63002-莱姆石系列.webp","600x600-63002.webp","600x600-63003-莱姆石系列.webp","600x600-63003.webp","600x600-63004-莱姆石系列.webp","600x600-63004.webp","600x600-63005-莱姆石系列.webp","600x600-63005.webp","600x600-63006-莱姆石系列.webp","600x600-63007-莱姆石系列.webp","600x600-63008-自由连纹.webp","600x600-63008-莱姆石系列.webp","600x600-63009-莱姆石系列.webp","600x600-6300P-纯白-亮光-直边.webp","600x600-63010-法式田园系列.webp","600x600-63010-自由连纹.webp","600x600-63011-法式田园系列.webp","600x600-63011-自由连纹.webp","600x600-63012-法式田园系列.webp","600x600-63013-无限连纹.webp","600x600-63013-法式田园系列.webp","600x600-63014-法式田园系列.webp","600x600-63015-法式田园系列.webp","600x600-63015-自由连纹.webp","600x600-63016.webp","600x600-63020-法式田园系列.webp","600x600-63021-法式田园系列.webp","600x600-63023-法式田园系列.webp","600x600-63023.webp","600x600-63025-法式田园系列.webp","600x600-63026-法式田园系列.webp","600x600-63026.webp","600x600-63027-莱姆石系列.webp","600x600-63028-莱姆石系列.webp","600x600-63028.webp","600x600-63029-莱姆石系列.webp","600x600-63030.webp","600x600-63033.webp","600x600-63034.webp","600x600-63035-法式田园系列.webp","600x600-63035.webp","600x600-63036-法式田园系列.webp","600x600-63040-法式田园系列.webp","600x600-63041-法式田园系列.webp","600x600-63042-法式田园系列.webp","600x600-63043-法式田园系列.webp","600x600-63043.webp","600x600-63044-法式田园系列.webp","600x600-63044.webp","600x600-63045-法式田园系列.webp","600x600-63046-法式田园系列.webp","600x600-63047-法式田园系列.webp","600x600-63701.webp","600x600-63702.webp","600x600-63703.webp","600x600-63704.webp","600x600-63705.webp","600x600-63706.webp","600x600-64001-模具面.webp","600x600-64002-模具面.webp","600x600-64003-模具面.webp","600x600-64004-模具面.webp","600x600-64005-模具面.webp","600x600-64006-模具面.webp","600x600-64007-模具面.webp","600x600-64008-模具面.webp","600x600-64009-地毯砖-模具面.webp","600x600-64010-模具面.webp","600x600-64011-模具面.webp","600x600-64012-模具面.webp","600x600-64013-地毯砖-模具面.webp","600x600-6620B1-AB款-平面-柔光.webp","600x600-6620B2-AB款-平面-柔光.webp","600x600-6620B3-混装-平面-柔光.webp","600x600-6620B4-AB款-平面-柔光.webp","600x600-6620B5-AB款-平面-柔光.webp","600x600-6620B6-AB款-平面-柔光.webp","600x600-6620B7-AB款-平面-柔光.webp","600x600-6620B8-单款-平面-柔光.webp","600x600-68601-一石多面-仿古.webp","600x600-68602-一石多面-仿古.webp","600x600-68603-仿古.webp","600x600-68604-一石多面-仿古.webp","600x600-68605-仿古.webp","600x600-68606-一石多面-仿古.webp","600x600-68607-一石多面-仿古.webp","600x600-6901-平面-亮光.webp","600x600-6902-平面-亮光.webp","600x600-6903-平面-亮光.webp","600x600-6904-平面-亮光.webp","600x600-6905-平面-亮光.webp","600x600-6906-平面-亮光.webp","600x600-6907-平面-亮光.webp","600x600-6908-平面-亮光.webp","600x600-6910-平面-亮光.webp","600x600-6911-平面-亮光.webp","600x600-6912-平面-亮光.webp","600x600-6913-平面-亮光.webp","600x600-6915-亮光-米白.webp","600x600-6916-亮光-奶黄.webp","600x600-6917-平面-亮光.webp","600x600-6BL01-网红艺术花砖.webp","600x600-6BL02-网红艺术花砖.webp","600x600-6BL03-网红艺术花砖.webp","600x600-6BL04-网红艺术花砖.webp","600x600-6BL05-网红艺术花砖.webp","600x600-6BL07-网红艺术花砖.webp","600x600-6BL09-网红艺术花砖.webp","600x600-6BL10-网红艺术花砖.webp","600x600-6BL11-网红艺术花砖.webp","600x600-6BL12-网红艺术花砖.webp","600x600-6BL13-网红艺术花砖.webp","600x600-6BL14-网红艺术花砖.webp","600x600-6BL15-网红艺术花砖.webp","600x600-6BL16-网红艺术花砖.webp","600x600-6BL17-网红艺术花砖.webp","600x600-6BL18-网红艺术花砖.webp","600x600-6BL19-网红艺术花砖.webp","600x600-6BL20-网红艺术花砖.webp","600x600-6BL21-网红艺术花砖.webp","600x600-6BL22-网红艺术花砖.webp","600x600-6BL76-网红艺术花砖.webp","600x600-7201-无限连纹-仿古.webp","600x600-7202-自由连纹-仿古.webp","600x600-7203-无限连纹-仿古.webp","600x600-7204-无限连纹-仿古.webp","600x600-7205-一石多面-仿古.webp","600x600-7206-一石多面-仿古.webp","600x600-7207-自由连纹-仿古.webp","600x600-7208-自由连纹-仿古.webp","600x600-7209-自由连纹-仿古.webp","600x600-7210-自由连纹-仿古.webp","600x600-7211-无限连纹-仿古.webp","600x600-7212-一石多面-仿古.webp","600x600-7213-一石多面-仿古.webp","600x600-7214-自由连纹-仿古.webp","600x600-7215-一石多面-仿古.webp","600x600-7216-微水泥.webp","600x600-7217-微水泥.webp","600x600-7218-水磨石.webp","600x600-76033.webp","600x600-76041-一石多面.webp","600x600-76042-一石多面.webp","600x600-76043-一石多面.webp","600x600-76047-一石多面.webp","600x600-76049-一石多面.webp","600x600-76052.webp","600x600-76053.webp","600x600-76054-水磨石.webp","600x600-76055-水磨石.webp","600x600-BJR6202-天鹅绒.webp","600x600-BJR6204-天鹅绒.webp","600x600-BJR6207-天鹅绒.webp","600x600-BJR6209-天鹅绒.webp","600x600-BL6708-哑光水磨石.webp","600x600-F66901-仿古.webp","600x600-F66902-仿古.webp","600x600-F66903-仿古.webp","600x600-F66904-仿古.webp","600x600-F66905-仿古.webp","600x600-F66906-仿古.webp","600x600-F66907-仿古.webp","600x600-F66908-仿古.webp","600x600-F66909-仿古.webp","600x600-F66910-仿古.webp"],S=m0.map(p=>{const{size:e,code:t,features:s}=a0(p),b=l0(s),w=u0(s),n=f0(s);return{id:p.replace(".webp",""),name:t,images:[`/products/${p}`],thumbnail:`/products/${p}`,size:e,style:b,pattern:w,features:s,tags:[b,w,e,...s],customTags:n}}),B0=[...new Set(S.map(p=>p.size))].sort(),Y0=[...new Set(S.map(p=>p.style))],_0=[...new Set(S.map(p=>p.pattern))],L0=[...new Set(S.flatMap(p=>p.customTags))].sort();function D0(p,e=4){return S.filter(s=>s.id!==p.id).map(s=>{let b=0;s.style===p.style&&(b+=10),s.pattern===p.pattern&&(b+=5),s.size===p.size&&(b+=3);const w=s.customTags.filter(r=>p.customTags.includes(r));b+=w.length*2;const n=d0.color,i=p.customTags.filter(r=>n.includes(r)),c=s.customTags.filter(r=>n.includes(r));return i.some(r=>c.includes(r))&&(b+=4),{product:s,score:b}}).filter(s=>s.score>0).sort((s,b)=>b.score-s.score).slice(0,e).map(s=>s.product)}export{c0 as O,y0 as P,d0 as T,Y0 as a,_0 as b,L0 as c,D0 as g,S as p,B0 as s};
