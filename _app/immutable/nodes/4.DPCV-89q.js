import"../chunks/CWj6FrbW.js";import{l as $t,s as wt,c as st,f as Q,a as St,b as u,z as de,p as ve,d as q,g as ce,o as ue,S as pe,x as t,u as l,h,m as c,v as s,i as N,a1 as mt,E as F,t as m,a2 as _e,j as ge,k as fe,n as Lt,q as f,Y as he,a3 as bt,y as ot,r as xe,J as D,w as o,a4 as ye,I as J,a5 as me,a6 as be,M as $e}from"../chunks/DWr9eOP8.js";import"../chunks/D_3Ux-uv.js";import{p as we}from"../chunks/BNHJ68V7.js";import"../chunks/BkUrU0rE.js";import{s as Se,a as Pe,b as Te,p as Ce,c as ze,T as ke,P as Ie}from"../chunks/DwDcOyqS.js";import"../chunks/1HCTCFwd.js";import{I as Pt}from"../chunks/jasCMTuS.js";import{X as Me}from"../chunks/wcPtyQiX.js";function je(Y,w){const B=$t(w,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d=[["path",{d:"m15 18-6-6 6-6"}]];Pt(Y,wt({name:"chevron-left"},()=>B,{get iconNode(){return d},children:(E,nt)=>{var x=st(),y=Q(x);St(y,w,"default",{}),u(E,x)},$$slots:{default:!0}}))}function Ee(Y,w){const B=$t(w,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d=[["path",{d:"m9 18 6-6-6-6"}]];Pt(Y,wt({name:"chevron-right"},()=>B,{get iconNode(){return d},children:(E,nt)=>{var x=st(),y=Q(x);St(y,w,"default",{}),u(E,x)},$$slots:{default:!0}}))}function Le(Y,w){const B=$t(w,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d=[["circle",{cx:"11",cy:"11",r:"8"}],["path",{d:"m21 21-4.3-4.3"}]];Pt(Y,wt({name:"search"},()=>B,{get iconNode(){return d},children:(E,nt)=>{var x=st(),y=Q(x);St(y,w,"default",{}),u(E,x)},$$slots:{default:!0}}))}const Re=!0,ia=Object.freeze(Object.defineProperty({__proto__:null,prerender:Re},Symbol.toStringTag,{value:"Module"}));var Ae=h("<option> </option>"),Ue=h("<option> </option>"),Ge=h("<option> </option>"),Oe=h('<button class="text-xs text-primary hover:underline"> </button>'),qe=h("<button> </button>"),Ne=h('<div class="space-y-1.5"><span class="text-xs text-gray-500 font-medium"> </span> <div class="flex flex-wrap gap-1"></div></div>'),Ye=h('<div class="p-3 border border-gray-200 rounded-lg bg-gray-50 animate-fade-in"><div class="flex items-center justify-between mb-3"><span class="text-xs font-medium text-gray-700"> </span> <!></div> <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3"></div></div>'),Be=h('<span class="inline-flex items-center gap-1 px-2.5 py-1 bg-primary text-white text-xs rounded-full"> <button class="hover:bg-white/20 rounded-full p-0.5 transition-colors"><!></button></span>'),Fe=h('<div class="flex flex-wrap gap-1.5 animate-fade-in"></div>'),Je=h('<p class="text-center text-gray-500 py-12 animate-fade-in"> </p>'),Qe=h('<div class="opacity-0 animate-scale-in"><!></div>'),Xe=h('<span class="px-2 text-gray-400">...</span>'),Ze=h("<button> </button>"),De=h('<div class="flex items-center justify-center gap-1 pt-6 animate-fade-in"><button><!></button> <!> <button><!></button></div> <p class="text-center text-xs text-gray-400"> </p>',1),He=h('<div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-3"></div> <!>',1),Ke=h('<div class="max-w-7xl mx-auto px-4 py-6 space-y-4"><div class="flex items-center justify-between animate-fade-in"><h1 class="text-2xl font-bold"> </h1> <span class="text-sm text-gray-500"> </span></div> <div class="space-y-3 animate-fade-in stagger-1"><div class="relative"><!> <input type="text" class="w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg text-sm transition-all duration-300 hover:border-gray-400"/></div> <div class="flex flex-wrap gap-2"><select class="flex-1 min-w-[100px] px-3 py-2 border border-gray-300 rounded-lg text-xs transition-all duration-300 hover:border-gray-400"><option> </option><!></select> <select class="flex-1 min-w-[100px] px-3 py-2 border border-gray-300 rounded-lg text-xs transition-all duration-300 hover:border-gray-400"><option> </option><!></select> <select class="flex-1 min-w-[100px] px-3 py-2 border border-gray-300 rounded-lg text-xs transition-all duration-300 hover:border-gray-400"><option> </option><!></select> <button> </button></div> <!> <!></div> <!></div>');function la(Y,w){ve(w,!0);const B=()=>Lt(we,"$page",E),d=()=>Lt(xe,"$t",E),[E,nt]=fe(),x=20;let y=q(""),C=q(""),z=q(""),k=q(""),p=q(ce([])),n=q(1),it=q(!1),Tt=q(!1);const Rt={finish:"tagCategory.finish",surface:"tagCategory.surface",style:"tagCategory.style",special:"tagCategory.special",color:"tagCategory.color"};ue(()=>{const e=B().url.searchParams;l(z,e.get("style")||"",!0),l(C,e.get("size")||"",!0),l(k,e.get("pattern")||"",!0);const a=e.get("tags");l(p,a?a.split(",").filter(Boolean):[],!0),l(y,e.get("q")||"",!0);const r=e.get("page");l(n,r?parseInt(r,10):1,!0),t(p).length>0&&l(it,!0);{const i=sessionStorage.getItem("products-scroll");i&&setTimeout(()=>window.scrollTo(0,parseInt(i,10)),100)}l(Tt,!0),setTimeout(()=>L(),0)});function L(){if(!t(Tt))return;const e=new URLSearchParams;t(z)&&e.set("style",t(z)),t(C)&&e.set("size",t(C)),t(k)&&e.set("pattern",t(k)),t(p).length>0&&e.set("tags",t(p).join(",")),t(y)&&e.set("q",t(y)),t(n)>1&&e.set("page",t(n).toString());const r=`/products${e.toString()?`?${e.toString()}`:""}`;window.history.replaceState({},"",r),Ut()}function At(){sessionStorage.setItem("products-scroll",window.scrollY.toString())}function Ut(){sessionStorage.setItem("products-return-url",window.location.href)}let X=D(()=>{let e=Ce;return t(C)&&(e=e.filter(a=>a.size===t(C))),t(z)&&(e=e.filter(a=>a.style===t(z))),t(k)&&(e=e.filter(a=>a.pattern===t(k))),t(p).length>0&&(e=e.filter(a=>t(p).every(r=>a.customTags.includes(r)))),t(y)&&(e=me(t(y),e)),e}),b=D(()=>Math.ceil(t(X).length/x)),Gt=D(()=>t(X).slice((t(n)-1)*x,t(n)*x));pe(()=>{t(b)>0&&t(n)>t(b)&&l(n,t(b),!0)});function ct(e){e>=1&&e<=t(b)&&(l(n,e,!0),window.scrollTo({top:0,behavior:"smooth"}),L())}function Ct(e){t(p).includes(e)?l(p,t(p).filter(a=>a!==e),!0):l(p,[...t(p),e],!0),l(n,1),L()}function Ot(){l(p,[],!0),l(n,1),L()}function qt(e){l(C,e.target.value,!0),l(n,1),L()}function Nt(e){l(z,e.target.value,!0),l(n,1),L()}function Yt(e){l(k,e.target.value,!0),l(n,1),L()}function Bt(){l(n,1),L()}window.addEventListener("beforeunload",At);let Ft=D(()=>{const e=[];if(t(b)<=7)for(let a=1;a<=t(b);a++)e.push(a);else{e.push(1),t(n)>3&&e.push("...");for(let a=Math.max(2,t(n)-1);a<=Math.min(t(b)-1,t(n)+1);a++)e.push(a);t(n)<t(b)-2&&e.push("..."),e.push(t(b))}return e});var ut=Ke(),pt=s(ut),_t=s(pt),Jt=s(_t,!0);o(_t);var zt=c(_t,2),Qt=s(zt,!0);o(zt),o(pt);var gt=c(pt,2),ft=s(gt),kt=s(ft);Le(kt,{class:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 pointer-events-none"});var lt=c(kt,2);ye(lt),lt.__change=Bt,o(ft);var ht=c(ft,2),R=s(ht);R.__change=qt;var H=s(R),Xt=s(H,!0);o(H),H.value=H.__value="";var Zt=c(H);N(Zt,17,()=>Se,J,(e,a)=>{var r=Ae(),i=s(r,!0);o(r);var _={};m(()=>{f(i,t(a)),_!==(_=t(a))&&(r.value=(r.__value=t(a))??"")}),u(e,r)}),o(R);var It;mt(R);var A=c(R,2);A.__change=Nt;var K=s(A),Dt=s(K,!0);o(K),K.value=K.__value="";var Ht=c(K);N(Ht,17,()=>Pe,J,(e,a)=>{var r=Ue(),i=s(r,!0);o(r);var _={};m(g=>{f(i,g),_!==(_=t(a))&&(r.value=(r.__value=t(a))??"")},[()=>d()(`style.${t(a)}`)]),u(e,r)}),o(A);var Mt;mt(A);var U=c(A,2);U.__change=Yt;var V=s(U),Kt=s(V,!0);o(V),V.value=V.__value="";var Vt=c(V);N(Vt,17,()=>Te,J,(e,a)=>{var r=Ge(),i=s(r,!0);o(r);var _={};m(g=>{f(i,g),_!==(_=t(a))&&(r.value=(r.__value=t(a))??"")},[()=>d()(`pattern.${t(a)}`)]),u(e,r)}),o(U);var jt;mt(U);var dt=c(U,2);dt.__click=()=>l(it,!t(it));var Wt=s(dt);o(dt),o(ht);var Et=c(ht,2);{var te=e=>{var a=Ye(),r=s(a),i=s(r),_=s(i,!0);o(i);var g=c(i,2);{var S=v=>{var T=Oe();T.__click=Ot;var I=s(T,!0);o(T),m(M=>f(I,M),[()=>d()("filter.clearTags")]),u(v,T)};F(g,v=>{t(p).length>0&&v(S)})}o(r);var P=c(r,2);N(P,21,()=>Object.entries(ke),J,(v,T)=>{var I=D(()=>$e(t(T),2));let M=()=>t(I)[0],xt=()=>t(I)[1];const W=D(()=>xt().filter(G=>ze.includes(G)));var vt=st(),tt=Q(vt);{var Z=G=>{var et=Ne(),at=s(et),yt=s(at,!0);o(at);var j=c(at,2);N(j,21,()=>t(W),J,($,O)=>{var rt=qe();rt.__click=()=>Ct(t(O));var ne=s(rt,!0);o(rt),m((ie,le)=>{ot(rt,1,`px-2 py-1 text-xs rounded-full transition-all duration-300 ${ie??""}`),f(ne,le)},[()=>t(p).includes(t(O))?"bg-primary text-white":"bg-white text-gray-700 hover:bg-gray-100 border border-gray-200",()=>d()(`tag.${t(O)}`)!==`tag.${t(O)}`?d()(`tag.${t(O)}`):t(O)]),u($,rt)}),o(j),o(et),m($=>f(yt,$),[()=>d()(Rt[M()])]),u(G,et)};F(tt,G=>{t(W).length>0&&G(Z)})}u(v,vt)}),o(P),o(a),m(v=>f(_,v),[()=>d()("filter.tags")]),u(e,a)};F(Et,e=>{t(it)&&e(te)})}var ee=c(Et,2);{var ae=e=>{var a=Fe();N(a,21,()=>t(p),J,(r,i)=>{var _=Be(),g=s(_),S=c(g);S.__click=()=>Ct(t(i));var P=s(S);Me(P,{class:"w-3 h-3"}),o(S),o(_),m(v=>f(g,`${v??""} `),[()=>d()(`tag.${t(i)}`)!==`tag.${t(i)}`?d()(`tag.${t(i)}`):t(i)]),u(r,_)}),o(a),u(e,a)};F(ee,e=>{t(p).length>0&&e(ae)})}o(gt);var re=c(gt,2);{var oe=e=>{var a=Je(),r=s(a,!0);o(a),m(i=>f(r,i),[()=>d()("products.empty")]),u(e,a)},se=e=>{var a=He(),r=Q(a);N(r,23,()=>t(Gt),g=>g.id,(g,S,P)=>{var v=Qe(),T=s(v);Ie(T,{get product(){return t(S)}}),o(v),m(I=>be(v,`animation-delay: ${I??""}s`),[()=>Math.min(t(P)*.02,.2)]),u(g,v)}),o(r);var i=c(r,2);{var _=g=>{var S=De(),P=Q(S),v=s(P);v.__click=()=>ct(t(n)-1);var T=s(v);je(T,{class:"w-5 h-5"}),o(v);var I=c(v,2);N(I,17,()=>t(Ft),J,(tt,Z)=>{var G=st(),et=Q(G);{var at=j=>{var $=Xe();u(j,$)},yt=j=>{var $=Ze();$.__click=()=>ct(t(Z));var O=s($,!0);o($),m(()=>{ot($,1,`min-w-[36px] h-9 px-3 rounded-lg text-sm font-medium transition-all duration-300 ${t(n)===t(Z)?"bg-primary text-white":"text-gray-600 hover:bg-gray-100"}`),f(O,t(Z))}),u(j,$)};F(et,j=>{t(Z)==="..."?j(at):j(yt,!1)})}u(tt,G)});var M=c(I,2);M.__click=()=>ct(t(n)+1);var xt=s(M);Ee(xt,{class:"w-5 h-5"}),o(M),o(P);var W=c(P,2),vt=s(W);o(W),m(tt=>{v.disabled=t(n)===1,ot(v,1,`p-2 rounded-lg transition-all duration-300 ${t(n)===1?"text-gray-300 cursor-not-allowed":"text-gray-600 hover:bg-gray-100 hover:text-primary"}`),M.disabled=t(n)===t(b),ot(M,1,`p-2 rounded-lg transition-all duration-300 ${t(n)===t(b)?"text-gray-300 cursor-not-allowed":"text-gray-600 hover:bg-gray-100 hover:text-primary"}`),f(vt,`${(t(n)-1)*x+1}-${tt??""} / ${t(X).length??""}`)},[()=>Math.min(t(n)*x,t(X).length)]),u(g,S)};F(i,g=>{t(b)>1&&g(_)})}u(e,a)};F(re,e=>{t(X).length===0?e(oe):e(se,!1)})}o(ut),m((e,a,r,i,_,g)=>{f(Jt,e),f(Qt,t(X).length),he(lt,"placeholder",a),f(Xt,r),It!==(It=t(C))&&(R.value=(R.__value=t(C))??"",bt(R,t(C))),f(Dt,i),Mt!==(Mt=t(z))&&(A.value=(A.__value=t(z))??"",bt(A,t(z))),f(Kt,_),jt!==(jt=t(k))&&(U.value=(U.__value=t(k))??"",bt(U,t(k))),ot(dt,1,`px-4 py-2 border border-gray-300 rounded-lg text-xs transition-all duration-300 hover:border-gray-400 hover:bg-gray-50 ${t(p).length>0?"bg-primary/10 border-primary text-primary":""}`),f(Wt,`${g??""} ${t(p).length>0?`(${t(p).length})`:""}`)},[()=>d()("nav.products"),()=>d()("search.placeholder"),()=>d()("filter.size"),()=>d()("filter.style"),()=>d()("filter.pattern"),()=>d()("filter.tags")]),_e(lt,()=>t(y),e=>l(y,e)),u(Y,ut),ge(),nt()}de(["change","click"]);export{la as component,ia as universal};
